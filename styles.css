/* =========================
   POLICES
   ========================= */
@font-face{
  font-family: "InterRegular";
  src: url("fonts/Inter-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: "InterSemiBold";
  src: url("fonts/Inter-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: "InterItalic";
  src: url("fonts/Inter-Italic.woff2") format("woff2");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}
@font-face{
  font-family: "InterExtraBold";
  src: url("fonts/Inter-ExtraBold.woff2") format("woff2");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: "BravuraText";
  src: url("fonts/BravuraText.woff2") format("woff2"),
       url("fonts/BravuraText.woff") format("woff"),
       url("fonts/BravuraText.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  font-display: block;
}
@font-face{
  font-family: "STIXTwoTextItalic";
  src: url("fonts/STIXTwoText-Italic.ttf") format("truetype");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

/* =========================
   LAYOUT (cadre gris visible)
   ========================= */
html{
  -webkit-text-size-adjust:100%;
  text-size-adjust:100%;
}
html, body{
  height: 100%;
  margin: 0;
}

:root{
  --pad: 18px;
  --tile-radius: 18px;
}

/* Fond "gris" derrière les tuiles */
body{
  background: #0f0f10;
  color: #fff;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Centre la tuile et laisse voir le cadre gris */
.screen{
  min-height: 100vh;
  min-height: 100dvh;
  display: grid;
  place-items: center;

  padding:
    calc(var(--pad) + env(safe-area-inset-top))
    calc(var(--pad) + env(safe-area-inset-right))
    calc(var(--pad) + env(safe-area-inset-bottom))
    calc(var(--pad) + env(safe-area-inset-left));

  box-sizing: border-box;
  touch-action: manipulation;
  user-select: none;
  -webkit-user-select: none;
}

/* =========================
   TUILE (PAS PLEIN ÉCRAN)
   ========================= */
.card{
  width: min(92vw, 980px);
  min-height: 70vh;

  display: flex;
  align-items: center;
  justify-content: center;

  padding: var(--pad);
  border-radius: var(--tile-radius);

  /* liseré discret pour mieux percevoir la tuile */
  box-shadow: 0 0 0 1px rgba(255,255,255,0.06) inset;
}

/* Question / Accueil : tuile sombre */
.card.home,
.card.question{
  background: #17181b;
  color: #ffffff;
}

/* Réponse : tuile blanche */
.card.answer{
  background: #ffffff;
  color: #000000;
}

/* =========================
   CONTENU
   ========================= */
.content{
  width: 100%;
  text-align: center;
  line-height: 1.12;
  letter-spacing: 0.2px;
  white-space: pre-line;
}

/* Questions: 2 lignes */
.q-line1{
  display:block;
  width: 100%;
  text-align: center;
  font-size: clamp(96px, min(18vw, 14svh), 180px);
  line-height: 1.0;
  margin-bottom: 0.10em;
}
.q-line2{
  display:block;
  width: 100%;
  text-align: center;
  font-size: clamp(56px, min(10vw, 8svh), 96px);
  line-height: 1.1;
  opacity: 0.9;
  margin-top: 0.02em;
  letter-spacing: 0.01em;
  font-weight: 400;
}

/* Réponses: même taille que ligne 1 des questions */
.card.answer .content{
  font-size: clamp(96px, 18vw, 180px);
  line-height: 1.05;
  font-weight: 750;
}

/* Gras / opérateurs (compat app.js) */
.qb{
  font-family: "InterExtraBold", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 800;
}
.op, .mult, .hyph{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 400 !important;
}
.italic{
  font-family: "STIXTwoTextItalic", "InterItalic", serif !important;
  font-style: italic;
  font-weight: 400 !important;
}

/* =========================
   ACCUEIL
   ========================= */
.home-image{
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.card.home #content{ display:none; }
.card.question .home-image,
.card.answer .home-image{ display:none; }

/* =========================
   TRANSITION "dim pulse"
   ========================= */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  background: #000;
  opacity: 0;
  pointer-events: none;
  z-index: 5;
}
.flash-answer::before{
  animation: dimPulse 140ms ease-out;
}
@keyframes dimPulse{
  0%{opacity:0;}
  40%{opacity:0.12;}
  100%{opacity:0;}
}
@media (prefers-reduced-motion: reduce){
  .flash-answer::before{ animation:none; }
}
