/* =========================
   VISUEL "PROJET AIMÉ"
   - fond gris derrière
   - tuile centrée, pas plein écran
   - coins arrondis visibles
   ========================= */

/* Polices (inchangé) */
@font-face{
  font-family: "InterRegular";
  src: url("fonts/Inter-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: "InterSemiBold";
  src: url("fonts/Inter-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: "InterItalic";
  src: url("fonts/Inter-Italic.woff2") format("woff2");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}
@font-face{
  font-family: "InterExtraBold";
  src: url("fonts/Inter-ExtraBold.woff2") format("woff2");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: "BravuraText";
  src: url("fonts/BravuraText.woff2") format("woff2"),
       url("fonts/BravuraText.woff") format("woff"),
       url("fonts/BravuraText.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  font-display: block;
}
@font-face{
  font-family: "STIXTwoTextItalic";
  src: url("fonts/STIXTwoText-Italic.ttf") format("truetype");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

html{
  -webkit-text-size-adjust:100%;
  text-size-adjust:100%;
}
html, body{
  height: 100%;
  margin: 0;
}

:root{
  --pad: 18px;
  --tile-radius: 18px;
  --frame-bg: #0f0f10;
  --tile-dark: #17181b;
}

/* IMPORTANT: force le "cadre gris" même si d'autres règles existent */
body{
  background: var(--frame-bg) !important;
  color: #fff;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* écran centré, avec air autour */
.screen{
  min-height: 100vh;
  min-height: 100dvh;
  display: grid;
  place-items: center;

  padding:
    calc(var(--pad) + env(safe-area-inset-top))
    calc(var(--pad) + env(safe-area-inset-right))
    calc(var(--pad) + env(safe-area-inset-bottom))
    calc(var(--pad) + env(safe-area-inset-left));

  box-sizing: border-box;
  background: var(--frame-bg) !important;
}

/* ====== TUILE ======
   On cible .card ET #card au cas où l'HTML n'a pas la classe.
*/
.card,
#card{
  width: min(92vw, 980px) !important;
  min-height: 70vh !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  padding: var(--pad) !important;
  border-radius: var(--tile-radius) !important;
  overflow: hidden !important; /* coins arrondis visibles même avec image */

  /* petit liseré interne pour "décoller" la tuile */
  box-shadow: 0 0 0 1px rgba(255,255,255,0.08) inset;
}

/* états (ton app.js met "home question answer" comme classe) */
.card.home, #card.home,
.card.question, #card.question{
  background: var(--tile-dark) !important;
  color: #fff !important;
}
.card.answer, #card.answer{
  background: #fff !important;
  color: #000 !important;
}

/* Contenu */
#content, .content{
  width: 100%;
  text-align: center;
  white-space: pre-line;
}

.q-line1{
  display:block;
  width: 100%;
  font-size: clamp(96px, min(18vw, 14svh), 180px);
  line-height: 1.0;
  margin-bottom: 0.10em;
}
.q-line2{
  display:block;
  width: 100%;
  font-size: clamp(56px, min(10vw, 8svh), 96px);
  line-height: 1.1;
  opacity: 0.9;
  font-weight: 400;
  margin-top: 0.02em;
  letter-spacing: 0.01em;
}

/* Réponses (comme ton projet aimé) */
.card.answer .content,
#card.answer .content{
  font-size: clamp(96px, 18vw, 180px);
  line-height: 1.05;
  font-weight: 750;
}

/* compat rendu opérateurs */
.qb{
  font-family: "InterExtraBold", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 800;
}
.op, .mult, .hyph{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 400 !important;
}
.italic{
  font-family: "STIXTwoTextItalic", "InterItalic", serif !important;
  font-style: italic;
  font-weight: 400 !important;
}

/* Image accueil */
.home-image{
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.card.home #content, #card.home #content{ display:none; }
.card.question .home-image,
.card.answer .home-image{ display:none; }

/* Dim */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  background: #000;
  opacity: 0;
  pointer-events: none;
  z-index: 5;
}
.flash-answer::before{ animation: dimPulse 140ms ease-out; }
@keyframes dimPulse{
  0%{opacity:0;}
  40%{opacity:0.12;}
  100%{opacity:0;}
}
@media (prefers-reduced-motion: reduce){
  .flash-answer::before{ animation:none; }
}
