/* =========================================================
   DIMENSIONS "PROJET AIMÉ"
   - fond gris (cadre visible)
   - tuile centrée (pas plein écran)
   - coins arrondis visibles
   - anti-rebond (overscroll) conservé
   ========================================================= */

html, body{
  height: 100%;
  margin: 0;
  overscroll-behavior: none;
  overscroll-behavior-y: none;
  overflow: hidden;
}

body{
  background: #0f0f10;
  color: #fff;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Centre la tuile, laisse voir le "cadre gris" */
.screen{
  min-height: 100vh;
  min-height: 100dvh;
  display: grid;
  place-items: center;
  padding:
    calc(18px + env(safe-area-inset-top))
    calc(18px + env(safe-area-inset-right))
    calc(18px + env(safe-area-inset-bottom))
    calc(18px + env(safe-area-inset-left));
  box-sizing: border-box;

  touch-action: manipulation;
  user-select: none;
  -webkit-user-select: none;
}

/* Tuile */
.card{
  width: min(92vw, 980px);
  min-height: 70vh;

  border-radius: 18px;
  padding: 18px;

  display: grid;
  place-items: center;

  position: relative;
  -webkit-tap-highlight-color: transparent;

  box-shadow: 0 0 0 1px rgba(255,255,255,0.08) inset;
}

/* Accueil & Question : tuile sombre */
.card.home,
.card.question{
  background: #17181b;
  color: #fff;
}

/* Réponse : tuile blanche */
.card.answer{
  background: #fff;
  color: #000;
}

/* Cercle accueil seulement */
.circle{
  width: min(78vmin, 640px);
  height: min(78vmin, 640px);
  border-radius: 50%;
  display: grid;
  place-items: center;
  overflow: hidden;
}

.card.home .circle{
  border: 6px solid #fff;
}
.card.question .circle,
.card.answer .circle{
  display: none;
}

.home-image{
  display: block;
  width: 62%;
  height: 62%;
  object-fit: contain;
}

/* Contenu */
#content, .content{
  width: 100%;
  max-width: 100%;
  text-align: center;
  margin: 0 auto;
}

.card.home #content{ display: none; }

.q-line1{
  display:block;
  width: 100%;
  font-size: clamp(64px, 10vw, 140px);
  font-weight: 750;
  line-height: 1.12;
  margin-bottom: 0.18em;
}
.q-line2{
  display:block;
  width: 100%;
  font-size: clamp(40px, 6vw, 80px);
  font-weight: 400;
  opacity: 0.9;
  line-height: 1.1;
}

.a-line1{
  display:block;
  width: 100%;
  font-size: clamp(64px, 10vw, 140px);
  font-weight: 750;
  line-height: 1.12;
  margin-bottom: 0.18em;
}
.a-line2{
  display:block;
  width: 100%;
  font-size: clamp(40px, 6vw, 80px);
  font-weight: 400;
  opacity: 0.8;
  line-height: 1.1;
}

/* Gras mots, opérateurs non gras */
.qb{ font-weight: 800; }
.op, .mult, .hyph, .op.slash{ font-weight: 400 !important; }

/* Fraction empilée */
.frac{
  display: inline-grid;
  grid-template-rows: auto 0.05em auto;
  align-items: center;
  justify-items: center;
  line-height: 1.05;
}
.frac .bar{
  width: 100%;
  height: 0.06em;
  background: currentColor;
}
.frac .num, .frac .den{ white-space: nowrap; }

/* Exposants */
.content sup{
  font-size: 0.6em;
  vertical-align: baseline;
  position: relative;
  top: -0.75em;
}

/* Dim global (QUESTION → RÉPONSE) */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  background: #000;
  opacity: 0;
  pointer-events: none;
  z-index: 5;
}
.flash-answer::before{
  animation: dimGlobal 140ms ease-out;
}
@keyframes dimGlobal{
  0%{opacity:0;}
  40%{opacity:0.12;}
  100%{opacity:0;}
}
@media (prefers-reduced-motion: reduce){
  .flash-answer::before{ animation:none; }
}
